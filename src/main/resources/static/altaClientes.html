<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Alta de Clientes</title>
</head>
<body>

	<h2>Alta de Clientes</h2>
	<form id="altaClientesForm" method="get" target="salidaAltaClientes">
		DNI: <input type="text" id="dni" name="dni"><br> 
		Nombre: <input type="text" id="nombre" name="nombre"><br> 
		Apellido: <input type="text" id="apellido" name="apellido"><br> 
		<input type="submit" value="Enviar" name="Enviar">
	</form>
</body>

<script>
	document.getElementById("altaClientesForm").onsubmit = function(event) {
		event.preventDefault(); // Evita el envÃ­o predeterminado del formulario
		const dni = document.getElementById("dni").value;
		const nombre = document.getElementById("nombre").value;
		const apellido = document.getElementById("apellido").value;

		fetch(`/clientes/guardar/${dni}/${nombre}/${apellido}`)
		.then(async results => {
			if (!results.ok) {
				const message = await results.text();
				return alert(message)
			}

			const message = await results.text();
			alert(message)
			window.location.replace("clientes.html")
		})
	};
</script>
</html>